// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model StandardVersion {
  id       String  @id @default(cuid())
  code     String  @unique
  name     String
  isActive Boolean @default(true)
  clauses  Clause[]
}

model Clause {
  id       String @id @default(cuid())
  ref      String @unique
  title    String
  stdId    String
  standard StandardVersion @relation(fields: [stdId], references: [id])
  questions Question[]
}

model Question {
  id               String  @id @default(cuid())
  questionId       String  @unique
  clauseId         String
  text             String
  responseType     String
  required         Boolean @default(false)
  evidenceRequired Boolean @default(false)
  appendix         String?
  weight           Float   @default(1)
  helpText         String?
  clause           Clause  @relation(fields: [clauseId], references: [id])
}
